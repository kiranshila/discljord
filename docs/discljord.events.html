<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>discljord.events documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>discljord</span></div></div></li><li class="depth-2 branch"><a href="discljord.cdn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cdn</span></div></a></li><li class="depth-2"><a href="discljord.connections.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connections</span></div></a></li><li class="depth-3 branch"><a href="discljord.connections.impl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></a></li><li class="depth-3"><a href="discljord.connections.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2 current"><a href="discljord.events.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>events</span></div></a></li><li class="depth-3 branch"><a href="discljord.events.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><a href="discljord.events.state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></a></li><li class="depth-2 branch"><a href="discljord.formatting.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>formatting</span></div></a></li><li class="depth-2 branch"><a href="discljord.http.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></a></li><li class="depth-2"><a href="discljord.messaging.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>messaging</span></div></a></li><li class="depth-3 branch"><a href="discljord.messaging.impl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></a></li><li class="depth-3"><a href="discljord.messaging.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2 branch"><a href="discljord.permissions.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>permissions</span></div></a></li><li class="depth-2 branch"><a href="discljord.snowflakes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snowflakes</span></div></a></li><li class="depth-2 branch"><a href="discljord.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2"><a href="discljord.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="discljord.events.html#var-dispatch-handlers"><div class="inner"><span>dispatch-handlers</span></div></a></li><li class="depth-1"><a href="discljord.events.html#var-message-pump.21"><div class="inner"><span>message-pump!</span></div></a></li><li class="depth-1"><a href="discljord.events.html#var-normalize-handlers"><div class="inner"><span>normalize-handlers</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">discljord.events</h1><div class="doc"><pre class="plaintext">Functions for getting events off of a queue and processing them.
</pre></div><div class="public anchor" id="var-dispatch-handlers"><h3>dispatch-handlers</h3><div class="usage"><code>(dispatch-handlers handlers event-type event-data &amp; args)</code></div><div class="doc"><pre class="plaintext">Calls event handlers from `handlers` with the event and `args`.

The `handlers` argument is a map from a keyword event type to a vector of
event handler functions (with additional arguments filled by `args`) to be run
in sequence.</pre></div></div><div class="public anchor" id="var-message-pump.21"><h3>message-pump!</h3><div class="usage"><code>(message-pump! event-ch handle-event)</code></div><div class="doc"><pre class="plaintext">Starts a process which pulls events off of the channel and calls
handle-event with them, and stops when it sees a :disconnect event.
This takes control of the current thread.

The handle-event function takes the keyword event type, and the event
data.</pre></div></div><div class="public anchor" id="var-normalize-handlers"><h3>normalize-handlers</h3><div class="usage"><code>(normalize-handlers handlers)</code></div><div class="doc"><pre class="plaintext">Constructs a `handlers` map for [[dispatch-handlers]], allowing sets for keys.

Keyword keys are kept as-is, but sets will be split into their members to
allow keying the handler map off of a single event type. This is done in an
undefined order, so duplicate keys have an undefined precidence.</pre></div></div></div></body></html>